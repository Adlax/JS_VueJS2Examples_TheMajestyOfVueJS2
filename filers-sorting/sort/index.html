<html>
<head>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <title> Histoires fantastiques </title>
</head>
<body>
    <div class="container" id="N1">
        <h1> Le meilleur des zistoires (par nb de likages) </h1>
        <ul class="list-group">
          <li class="list-group-item" v-for="story in sortedStories">
            {{ story.writer }} a ecrit "{{ story.plot }}" likee {{ story.upvotes }}
          </li>
        </ul>
        <button @click="order=order*-1"> Renversez l ordre </button>
        <pre>
            {{ $data }}
        </pre>
    </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.1/vue.js"></script>
<script type="text/javascript">
new Vue({
    el: '#N1',
    data: {
        stories: [
            {
                plot: "J AI PETE MA CAISSE!",
                writer: "Alex",
                upvotes: 25
            },
            {
                plot: "Omn m a tchoure mon sac Giorgio Pantani",
                writer: "John",
                upvotes: 85
            },
            {
                plot: "Ki k a bouffe mon chocolat...",
                writer: "John",
                upvotes: 12
            },
            {
                plot: "hmmm...tres bon ce chocolat!",
                writer: "Alex",
                upvotes: 56
            },
        ],
        order: -1,
    },
    computed: {
      sortedStories: function(){
        var order = this.order;
        return this.stories.sort(function(a,b){
          return (a.upvotes - b.upvotes) * order;
        })
      }
    },
})
</script>
</html>
